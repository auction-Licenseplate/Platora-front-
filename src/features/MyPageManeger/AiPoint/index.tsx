import { AipointStyled } from "./styled";
import { Input, Button } from "antd";
import axios from "axios";
import { useState } from "react";

interface ScoreType {
  grade: string;
  score: number;
  price: number;
}

const AiPoint = () => {
  const [score, setScore] = useState<ScoreType | null>(null); // score ì´ˆê¸°ê°’ì„ ë¹ˆ ë¬¸ìì—´ë¡œ ì„¤ì •
  const [point, setPoint] = useState("");

  const prompt = `
ë²ˆí˜¸íŒ '${point}'ì˜ ì ìˆ˜ë¥¼ í‰ê°€í•˜ë¼.

 **í•œêµ­ ë²ˆí˜¸íŒ í˜•ì‹**:
- ì•ìë¦¬: 2ìë¦¬ ë˜ëŠ” 3ìë¦¬ ìˆ«ì (ì˜ˆ: 12, 123)
- ë’·ìë¦¬: 4ìë¦¬ ìˆ«ì (ì˜ˆ: 4567)


ì¤‘ê°„ í•œê¸€ í•œ ê¸€ìë¥¼ ì œì™¸í•˜ê³  ì•ìë¦¬ ìˆ«ìì™€ ë’·ìë¦¬ ìˆ«ìë¡œ ë¶„ë¦¬í•œ í›„ í‰ê°€ ì‹œì‘!
 ë°˜ë“œì‹œ ë“±ê¸‰ë³„ ì˜ˆì‹œë¥¼ ë³´ê³  ë¹„êµí›„ì— ë“±ê¸‰ì— ë”°ë¥¸ ì ìˆ˜ë¥¼ ì²´í¬í•  ê²ƒ!
 ê° ìˆ«ìë¥¼ ê°œë³„ ìš”ì†Œë¡œ ë¶„ë¦¬í•˜ì—¬ íŒë‹¨í•  ê²ƒ!
##  **ë²ˆí˜¸íŒ ì ìˆ˜ ê³„ì‚° ë¡œì§**
 **1ë‹¨ê³„: 1ë“±ê¸‰ì¸ì§€ í™•ì¸**  
   -  **ì•ìë¦¬ì™€ ë’·ìë¦¬ê°€ ë™ì¼í•œ ìˆ«ìë¡œë§Œ ì´ë£¨ì–´ì§„ ê²½ìš° (ì™„ì „ í¬ì»¤ ë²ˆí˜¸)**  
   -  **ì˜ˆì‹œ: "11ê°€1111", "22ë‚˜2222", "77ë‹¤7777"**  
   - â†’ **ì´ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ ì¦‰ì‹œ 1ë“±ê¸‰ í™•ì • í›„ ì¢…ë£Œ**  

 **2ë‹¨ê³„: ì „ì²´ ì˜¤ë¦„ì°¨ìˆœ(2ë“±ê¸‰) & ì „ì²´ ë‚´ë¦¼ì°¨ìˆœ(4ë“±ê¸‰) í™•ì¸** 
 ğŸ“Œ **2ë“±ê¸‰(ì˜¤ë¦„ì°¨ìˆœ)ê³¼ 4ë“±ê¸‰(ë‚´ë¦¼ì°¨ìˆœ)ì˜ ì°¨ì´ë¥¼ ë°˜ë“œì‹œ êµ¬ë³„í•  ê²ƒ!**
âœ… **ì˜¤ë¦„ì°¨ìˆœ (2ë“±ê¸‰) ì˜ˆì œ**
- "12ê°€3456" â†’ 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 â†’ 6 (âœ” ì˜¤ë¦„ì°¨ìˆœ)
- "23ë‚˜5678" â†’ 2 â†’ 3 â†’ 5 â†’ 6 â†’ 7 â†’ 8 (âœ” ì˜¤ë¦„ì°¨ìˆœ)
- "01ë§ˆ2345" â†’ 0 â†’ 1 â†’ 2 â†’ 3 â†’ 4 â†’ 5 (âœ” ì˜¤ë¦„ì°¨ìˆœ)

âœ… **ë‚´ë¦¼ì°¨ìˆœ (4ë“±ê¸‰) ì˜ˆì œ**
- "98ê°€7654" â†’ 9 â†’ 8 â†’ 7 â†’ 6 â†’ 5 â†’ 4 (âœ” ë‚´ë¦¼ì°¨ìˆœ)
- "87ë‚˜6543" â†’ 8 â†’ 7 â†’ 6 â†’ 5 â†’ 4 â†’ 3 (âœ” ë‚´ë¦¼ì°¨ìˆœ)
- "76ë‹¤5432" â†’ 7 â†’ 6 â†’ 5 â†’ 4 â†’ 3 â†’ 2 (âœ” ë‚´ë¦¼ì°¨ìˆœ)

âŒ **í‹€ë¦° ì˜ˆì œ (ì˜¤ë¦„ì°¨ìˆœ/ë‚´ë¦¼ì°¨ìˆœ ì•„ë‹˜)**
- "12ê°€3654" â†’ 1 â†’ 2 â†’ âŒ3 â†’ 6âŒ â†’ 5 â†’ 4 (ì˜¤ë¦„ì°¨ìˆœ ì•„ë‹˜)
- "98ê°€7432" â†’ 9 â†’ 8 â†’ âŒ7 â†’ 4âŒ â†’ 3 â†’ 2 (ë‚´ë¦¼ì°¨ìˆœ ì•„ë‹˜)
 
   -  **ë²ˆí˜¸ ì „ì²´(ì•ìë¦¬ + ë’·ìë¦¬)ê°€ ì˜¤ë¦„ì°¨ìˆœì¸ì§€ í™•ì¸**  
     - **ì˜¤ë¦„ì°¨ìˆœ ì •ì˜:** ëª¨ë“  ìˆ«ìê°€ ì ì  ì¦ê°€í•˜ëŠ” í˜•íƒœì¸ì§€ í™•ì¸ (ì˜ˆ: "12ê°€3456")  
     - ì˜ˆì‹œ: "12ê°€3456", "23ê°€5678", "34ê°€6789"  
     - â†’ **2ë“±ê¸‰ í™•ì • í›„ ì¢…ë£Œ**  
   -  **ë²ˆí˜¸ ì „ì²´(ì•ìë¦¬ + ë’·ìë¦¬)ê°€ ë‚´ë¦¼ì°¨ìˆœì¸ì§€ í™•ì¸**  
     - **ë‚´ë¦¼ì°¨ìˆœ ì •ì˜:** ëª¨ë“  ìˆ«ìê°€ ì ì  ê°ì†Œí•˜ëŠ” í˜•íƒœì¸ì§€ í™•ì¸ (ì˜ˆ: "98ê°€7654")  
     - ì˜ˆì‹œ: "98ê°€7654", "87ê°€6543", "76ê°€5432"  
     - â†’ **4ë“±ê¸‰ í™•ì • í›„ ì¢…ë£Œ**  

 **3ë‹¨ê³„: ì•ë’¤ ë‹¤ë¥¸ í¬ì»¤ ë²ˆí˜¸(3ë“±ê¸‰) í™•ì¸**  
   -  **ì•ìë¦¬ ìˆ«ìê°€ í¬ì»¤ ë²ˆí˜¸ì¸ì§€ í™•ì¸ (ì˜ˆ: 11, 222, 333)**  
   -  **ë’·ìë¦¬ ìˆ«ìê°€ í¬ì»¤ ë²ˆí˜¸ì¸ì§€ í™•ì¸ (ì˜ˆ: 4444, 5555, 6666)**  
   -  **ì•ìë¦¬ ìˆ«ìì™€ ë’·ìë¦¬ ìˆ«ìê°€ ì„œë¡œ ë‹¤ë¥¼ ê²ƒ**  
   -  **ì˜ˆì‹œ: "22ê°€3333", "44ë‚˜5555", "11ë‹¤2222", "00ê°€7777", "99ë‚˜4444"**  
   - â†’ **ì´ ì¡°ê±´ì„ ë§Œì¡±í•˜ë©´ ì¦‰ì‹œ 3ë“±ê¸‰ í™•ì • í›„ ì¢…ë£Œ**  

 **4ë‹¨ê³„: ì•ìë¦¬ ì˜¤ë¦„ì°¨ìˆœ + ë’·ìë¦¬ í¬ì»¤ (5ë“±ê¸‰) í™•ì¸**  
   -  **ì•ìë¦¬ ìˆ«ìê°€ ì˜¤ë¦„ì°¨ìˆœì´ë©°, ë’·ìë¦¬ ìˆ«ìê°€ í¬ì»¤ ë²ˆí˜¸ì¼ ê²ƒ**  
   -  **ì˜ˆì‹œ: "12ê°€5555", "23ë‚˜7777"**  
   - â†’ **5ë“±ê¸‰ í™•ì • í›„ ì¢…ë£Œ**  

 **5ë‹¨ê³„: ë¶€ë¶„ ì˜¤ë¦„ì°¨ìˆœ(6~8ë“±ê¸‰) í™•ì¸**  
  5ë‹¨ê³„: ë¶€ë¶„ ì˜¤ë¦„ì°¨ìˆœ(6~8ë“±ê¸‰) í™•ì¸


ğŸ“Œ ìˆ«ìì˜ ì—°ì†ì„±, í¬ì»¤ íŒ¨í„´, ì˜¤ë¦„ì°¨ìˆœ íŒ¨í„´ì„ ì •í™•íˆ í™•ì¸í•  ê²ƒ!
ì¡°ê±´ì´ í•˜ë‚˜ë¼ë„ ë§ìœ¼ë©´ ë“±ê¸‰ í™•ì •
âœ… ì˜¬ë°”ë¥¸ ì˜ˆì œ:
"XXê°€1234" â†’ 1 â†’ 2 â†’ 3 â†’ 4 (âœ” ì˜¤ë¦„ì°¨ìˆœ)
"XXë‚˜2345" â†’ 2 â†’ 3 â†’ 4 â†’ 5 (âœ” ì˜¤ë¦„ì°¨ìˆœ)
"XXë‹¤3456" â†’ 3 â†’ 4 â†’ 5 â†’ 6 (âœ” ì˜¤ë¦„ì°¨ìˆœ)
"XXë¼4567" â†’ 4 â†’ 5 â†’ 6 â†’ 7 (âœ” ì˜¤ë¦„ì°¨ìˆœ)  
"XXë§ˆ5678" â†’ 5 â†’ 6 â†’ 7 â†’ 8 (âœ” ì˜¤ë¦„ì°¨ìˆœ) 

âŒ ì˜ëª»ëœ ì˜ˆì œ:
"XXë‚˜1324" â†’ [1] â†’ [3] â†’ âŒ[2]âŒ â†’ [4] (ì˜¤ë¦„ì°¨ìˆœ ì•„ë‹˜)
"XXë¼7689" â†’ [7] â†’ [6] â†’ âŒ[8]âŒ â†’ [9] (ì˜¤ë¦„ì°¨ìˆœ ì•„ë‹˜)

âœ… ì•ìë¦¬ ìˆ«ìê°€ ì—°ì†ëœ ìˆ«ì (6ë“±ê¸‰) ì˜ˆì œ

"12ê°€XXXX" â†’ 1 â†’ 2 (âœ” ì—°ì†ëœ ìˆ«ì)

"23ë‚˜XXXX" â†’ 2 â†’ 3 (âœ” ì—°ì†ëœ ìˆ«ì)

"34ë‹¤XXXX" â†’ 3 â†’ 4 (âœ” ì—°ì†ëœ ìˆ«ì)

"45ë¼XXXX" â†’ 4 â†’ 5 (âœ” ì—°ì†ëœ ìˆ«ì)

"56ë§ˆXXXX" â†’ 5 â†’ 6 (âœ” ì—°ì†ëœ ìˆ«ì)

âœ… ë’·ìë¦¬ ìˆ«ìê°€ í¬ì»¤ ë²ˆí˜¸ (7ë“±ê¸‰) ì˜ˆì œ

"XXê°€5555" â†’ 5 â†’ 5 â†’ 5 â†’ 5 (âœ” í¬ì»¤ ë²ˆí˜¸)

"XXë‚˜6666" â†’ 6 â†’ 6 â†’ 6 â†’ 6 (âœ” í¬ì»¤ ë²ˆí˜¸)

"XXë‹¤7777" â†’ 7 â†’ 7 â†’ 7 â†’ 7 (âœ” í¬ì»¤ ë²ˆí˜¸)

"XXë¼8888" â†’ 8 â†’ 8 â†’ 8 â†’ 8 (âœ” í¬ì»¤ ë²ˆí˜¸)

"XXë§ˆ9999" â†’ 9 â†’ 9 â†’ 9 â†’ 9 (âœ” í¬ì»¤ ë²ˆí˜¸)

âœ… ë’·ìë¦¬ ìˆ«ìê°€ ì˜¤ë¦„ì°¨ìˆœ (8ë“±ê¸‰) ì˜ˆì œ

"XXê°€1234" â†’ 1 â†’ 2 â†’ 3 â†’ 4 (âœ” ì˜¤ë¦„ì°¨ìˆœ)

"XXë‚˜2345" â†’ 2 â†’ 3 â†’ 4 â†’ 5 (âœ” ì˜¤ë¦„ì°¨ìˆœ)

"XXë‹¤3456" â†’ 3 â†’ 4 â†’ 5 â†’ 6 (âœ” ì˜¤ë¦„ì°¨ìˆœ)

"XXë¼4567" â†’ 4 â†’ 5 â†’ 6 â†’ 7 (âœ” ì˜¤ë¦„ì°¨ìˆœ)

"XXë§ˆ5678" â†’ 5 â†’ 6 â†’ 7 â†’ 8 (âœ” ì˜¤ë¦„ì°¨ìˆœ)

âŒ í‹€ë¦° ì˜ˆì œ (ë¶€ë¶„ ì˜¤ë¦„ì°¨ìˆœì´ ì•„ë‹˜ - í˜¼í•©ëœ ìˆœì„œ)

"34ê°€X6XX" â†’ **3 â†’ 4 â†’ âŒ6âŒ (ë¶ˆì—°ì†)

"XXë‚˜6565" â†’ 6 â†’ 5 â†’ 6 â†’ 5 (í¬ì»¤ ì•„ë‹˜)

"XXë‹¤1324" â†’ 1 â†’ 3 â†’ âŒ2âŒ â†’ 4 (ì˜¤ë¦„ì°¨ìˆœ ì•„ë‹˜)

"XXë¼7689" â†’ 7 â†’ 6 â†’ âŒ8âŒ â†’ 9 (ì˜¤ë¦„ì°¨ìˆœ ì•„ë‹˜)

"23ë§ˆX9XX" â†’ 2 â†’ 3 â†’ âŒ9âŒ (ë¶ˆì—°ì†)
   -  **ì•ìë¦¬ ìˆ«ìê°€ ì—°ì†ëœ ìˆ«ìë¼ë©´ 6ë“±ê¸‰** (ì˜ˆ:"34ê°€XXXX", "45ê°€XXXX")  
   - **ë’·ìë¦¬ ìˆ«ìê°€ í¬ì»¤ ë²ˆí˜¸ë¼ë©´ 7ë“±ê¸‰** (ì˜ˆ: "XXê°€7777", "XXê°€2222")  
   -  **ì•ìë¦¬ ìˆ«ìê°€ ì—°ì†ëœ ìˆ«ìì¼ í•„ìš” ì—†ì´, ë’·ìë¦¬ ìˆ«ìê°€ ì˜¤ë¦„ì°¨ìˆœì´ë¼ë©´ 8ë“±ê¸‰** (ì˜ˆ: "XXê°€1234", "XXê°€5678")  

 **6ë‹¨ê³„: íŠ¹ì • íŒ¨í„´ (9~15ë“±ê¸‰) í™•ì¸**  
   -  **ë’·ìë¦¬ê°€ A000 í˜•íƒœì´ë©´ 9ë“±ê¸‰** (ì˜ˆ: "12ê°€1000", "45ë‚˜9000")  
   -  **ê³ ìœ í•œ ì˜ë¯¸ê°€ ìˆëŠ” ë²ˆí˜¸(119, 1004, 777 ë“±) â†’ 10ë“±ê¸‰**  
   -  **ë’·ìë¦¬ ë‚´ë¦¼ì°¨ìˆœ (4321, 8765) â†’ 11ë“±ê¸‰**  
   -  **100ì˜ ë°°ìˆ˜ (AA00, AB00) â†’ 12ë“±ê¸‰**  
   -  **íŠ¹ì • íŒ¨í„´ (101ì˜ ë°°ìˆ˜, AABB) â†’ 13ë“±ê¸‰**  
   -  **íŠ¹ì • ë°˜ë³µ íŒ¨í„´ (ABAC, ABCB) â†’ 14ë“±ê¸‰**  
   -  **ì–´ë–¤ íŒ¨í„´ì—ë„ í•´ë‹¹ë˜ì§€ ì•Šìœ¼ë©´ 15ë“±ê¸‰**  

---

## ** ë“±ê¸‰ë³„ ì˜ˆì‹œ ë° ì ìˆ˜**
| ë“±ê¸‰ | ì ìˆ˜ | ê°€ê²© | ì˜ˆì‹œ |
|------|------|------|------|
| **1ë“±ê¸‰** | 100 | 2,000,000 | 11ê°€1111, 77ë‚˜7777 |
| **2ë“±ê¸‰** | 95 | 1,800,000 | 12ê°€3456 (ì „ì²´ ì˜¤ë¦„ì°¨ìˆœ) |
| **3ë“±ê¸‰** | 90 | 1,500,000 | 22ê°€3333, 11ë‚˜2222 (ì•ë’¤ ë‹¤ë¥¸ í¬ì»¤ ë²ˆí˜¸) |
| **4ë“±ê¸‰** | 85 | 1,200,000 | 98ê°€7654 (ì „ì²´ ë‚´ë¦¼ì°¨ìˆœ) |
| **5ë“±ê¸‰** | 80 | 1,000,000 | 12ê°€5555 (ì•ìë¦¬ ì˜¤ë¦„ + ë’·ìë¦¬ í¬ì»¤) |
| **6ë“±ê¸‰** | 75 | 800,000 | 34ê°€XXXX (ì•ìë¦¬ ì˜¤ë¦„ì°¨ìˆœ) |
| **7ë“±ê¸‰** | 70 | 700,000 | XXê°€7777 (ë’·ìë¦¬ í¬ì»¤) |
| **8ë“±ê¸‰** | 60 | 600,000 | XXê°€1234 (ë’·ìë¦¬ ì˜¤ë¦„ì°¨ìˆœ) |
| **9ë“±ê¸‰** | 50 | 500,000 | 12ê°€1000 (A000 í˜•íƒœ) |
| **10ë“±ê¸‰** | 40 | 400,000 | 119ê°€XXXX (íŠ¹ì • ì˜ë¯¸) |
| **11ë“±ê¸‰** | 35 | 350,000 | XXê°€4321 (ë’·ìë¦¬ ë‚´ë¦¼ì°¨ìˆœ) |
| **12ë“±ê¸‰** | 30 | 300,000 | XXê°€2200 (100ì˜ ë°°ìˆ˜) |
| **13ë“±ê¸‰** | 25 | 250,000 | XXê°€1331 (AABB íŒ¨í„´) |
| **14ë“±ê¸‰** | 20 | 200,000 | XXê°€5253 (ABAC íŒ¨í„´) |
| **15ë“±ê¸‰** | 10 | 100,000 | ë‹¤ë¥¸ ì¡°ê±´ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ëª¨ë“  ë²ˆí˜¸ |

---

 **ì¶œë ¥ í˜•ì‹**
-ìœ„ ë“±ê¸‰ì„ ìµœì†Œ 10ë²ˆì´ìƒì˜ ê²°ê³¼ê°’ì„ êµ¬í•œ í›„ 

í‰ê· ì  ë“±ê¸‰ì„ ê³„ì‚°í•´ì„œ ì •í™•í•œ ì œì¼ ë†’ì€ grade score price ë§Œ ì„ ë‹´ì•„ì„œ JSON ê°ì²´ í˜•íƒœ ì¶œë ¥í•´ì¤˜ ë‹¤ë¥¸ ì •ë³´ëŠ” ì£¼ì§€ë§ˆ 


`;

  const handleChange = (e) => {
    setPoint(e.target.value);
  };

  const scoreCheck = () => {
    axios
      .post("http://localhost:5000/vehicles/aichat", { message: prompt }) // ê°ì²´ë¡œ ì „ì†¡
      .then((res) => {
        console.log("ì„œë²„ ì‘ë‹µ:", res.data);
        let cleanData = res.data.replace(/```json|```/g, "").trim();

        // JSON íŒŒì‹±
        const responseData = JSON.parse(cleanData);
        setScore(responseData); // ì ìˆ˜ ì‘ë‹µ ì €ì¥
      })
      .catch((err) => {
        console.error("Error:", err);
      });
  };

  return (
    <AipointStyled>
      <div style={{ color: "white" }}>ì ìˆ˜ í…ŒìŠ¤íŠ¸</div>
      <Input
        value={point}
        onChange={handleChange}
        type="text"
        placeholder="ë²ˆí˜¸íŒì„ ì…ë ¥í•˜ì„¸ìš”"
      />
      <Button onClick={scoreCheck}>ì ìˆ˜ í™•ì¸</Button>
      <div style={{ color: "white" }}>ë“±ê¸‰: {score?.grade ?? "ì—†ìŒ"}</div>
      <div style={{ color: "white" }}>ì ìˆ˜: {score?.score ?? "ì—†ìŒ"}</div>
      <div style={{ color: "white" }}>
        ê°€ê²©: {score?.price ? score.price.toLocaleString() : "ì—†ìŒ"}ì›
      </div>
    </AipointStyled>
  );
};

export default AiPoint;
